dependencies:
  override:
    - npm install
    - bundle install

    - pip install setuptools==0.6c11
    - pip install distribute==0.6.49
    - pip install -r requirements/edx/paver.txt

    # Mirror what paver install_prereqs does
    - pip install -r requirements/edx/pre.txt
    - pip install -r requirements/edx/github.txt
    - pip install -r requirements/edx/local.txt
    # Within base.txt stevedore had a dependency
    # on a version range of pbr. Install a version
    # that falls within that range.
    - pip install pbr==0.9.0
    - pip install -r requirements/edx/base.txt
    - pip install -r requirements/edx/post.txt

  # post:
    # Now run install_prereqs in case something else
    # has changed. I *think* this should be a no-op.
    # - paver install_prereqs

machine:
  python:
    version: 2.7.3

test:
  override:
    - ./scripts/circle.sh:
        parallel: true
